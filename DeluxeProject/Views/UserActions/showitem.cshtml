@model IEnumerable<DeluxeModel.product>

@{
    ViewBag.Title = "showitem";
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<style>
    @@import url(https://fonts.googleapis.com/css?family=Rubik:300,400,500,700);

    body {
        font-family: Rubik,sans-serif;
        position: relative;
        font-weight: 400;
        font-size: 15px
    }

    ul {
        padding: 0;
        margin: 0
    }

    li {
        list-style: none
    }

    a:focus, a:hover {
        text-decoration: none;
        -webkit-transition: .3s ease;
        -o-transition: .3s ease;
        transition: .3s ease
    }

    a:focus {
        outline: 0
    }

    img {
        max-width: 100%
    }

    p {
        font-size: 16px;
        line-height: 30px;
        color: #898b96;
        font-weight: 300
    }

    h4 {
        font-family: Rubik,sans-serif;
        margin: 0;
        font-weight: 400;
        padding: 0;
        color: #363940
    }

    a {
        color: #5867dd
    }

    .no-padding {
        padding: 0 !important
    }

    .go_top {
        line-height: 40px;
        cursor: pointer;
        width: 40px;
        background: #5867dd;
        color: #fff;
        position: fixed;
        -webkit-box-shadow: 0 4px 4px rgba(0,0,0,.1);
        box-shadow: 0 4px 4px rgba(0,0,0,.1);
        -webkit-border-radius: 50%;
        border-radius: 50%;
        right: -webkit-calc((100% - 1140px)/ 2);
        right: calc((100% - 1140px)/ 2);
        z-index: 111;
        bottom: 80px;
        text-align: center
    }

        .go_top span {
            display: inline-block
        }

    .footer-big {
        padding: 105px 0 65px 0
    }

        .footer-big .footer-widget {
            margin-bottom: 40px
        }

    .footer--light {
        background: #e7e8ed
    }

    .footer-big .footer-menu ul li a, .footer-big p, .footer-big ul li {
        color: #898b96
    }

    .footer-menu {
        padding-left: 48px
    }

        .footer-menu ul li a {
            font-size: 15px;
            line-height: 32px;
            -webkit-transition: .3s;
            -o-transition: .3s;
            transition: .3s
        }

            .footer-menu ul li a:hover {
                color: #5867dd
            }

    .footer-menu--1 {
        width: 100%
    }

    .footer-widget-title {
        line-height: 42px;
        margin-bottom: 10px;
        font-size: 18px
    }

    .mini-footer {
        background: #192027;
        text-align: center;
        padding: 32px 0
    }

        .mini-footer p {
            margin: 0;
            line-height: 26px;
            font-size: 15px;
            color: #999
        }

            .mini-footer p a {
                color: #5867dd
            }

                .mini-footer p a:hover {
                    color: #34bfa3
                }

    .widget-about img {
        display: block;
        margin-bottom: 30px
    }

    .widget-about p {
        font-weight: 400
    }

    .widget-about .contact-details {
        margin: 30px 0 0 0
    }

        .widget-about .contact-details li {
            margin-bottom: 10px
        }

            .widget-about .contact-details li:last-child {
                margin-bottom: 0
            }

            .widget-about .contact-details li span {
                padding-right: 12px
            }

            .widget-about .contact-details li a {
                color: #5867dd
            }

    @@media (max-width:991px) {
        .footer-menu {
            padding-left: 0
        }
    }
</style>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Deluxe Shopping</title>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">

    <link href="~/Content/mdb/bootstrap.min.css" rel="stylesheet">

    <link href="~/Content/mdb/mdb.min.css" rel="stylesheet">

    <link href="~/Content/mdb/style.min.css" rel="stylesheet">
    <style type="text/css">
        html,
        body,
        header,
        .carousel {
            height: 60vh;
        }

        @@media (max-width: 740px) {

            html,
            body,
            header,
            .carousel {
                height: 100vh;
            }
        }

        @@media (min-width: 800px) and (max-width: 850px) {

            html,
            body,
            header,
            .carousel {
                height: 100vh;
            }
        }
    </style>
</head>


<body>

    
    <nav class="navbar fixed-top navbar-expand-lg navbar-light white scrolling-navbar">
        <div class="container">

            <a class="navbar-brand waves-effect" href="#" target="_blank">
                <strong class="blue-text">Deluxe Shopping</strong>
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">

                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link waves-effect" href="#">
                            Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link waves-effect" href="https://mdbootstrap.com/docs/jquery/" target="_blank">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link waves-effect" href="https://mdbootstrap.com/docs/jquery/getting-started/download/"
                           target="_blank">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link waves-effect" href="https://mdbootstrap.com/education/bootstrap/" target="_blank">
                            Customer Service
                        </a>
                    </li>
                </ul>

                <ul class="navbar-nav nav-flex-icons">
                    <li class="nav-item">
                        <a class="nav-link waves-effect" href="@Url.Action("shoppingcartitem","UserActions")">
                            <span class="badge red z-depth-1 mr-1">    @Session["itemcount"] </span>
                            <i class="fas fa-shopping-cart"></i>
                            <span class="clearfix d-none d-sm-inline-block"> Cart </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="@Url.Action("Login","UserActions")" class="nav-link waves-effect" onclick="">
                            <i class="glyphicon glyphicon-log-in"></i>
                            Login
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="@Url.Action("SignUp","UserActions")" class="nav-link waves-effect" target="_blank">
                            <i class=""></i>
                            Sign-Up
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link border border-light rounded waves-effect"
                           target="_blank">
                            <i class="fab glyphicon-user mr-2"></i>Welcome
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="mt-5 pt-4">
        <div class="container dark-grey-text mt-5">
            @foreach (var item in Model)
            {
                <div class="row wow fadeIn">

                    <div class="col-md-6 mb-4">

                        <img src="~/App_File/Images/@item.prd_img" class="img-fluid" alt="">

                    </div>

                    <div class="col-md-6 mb-4">


                        <div class="p-4">



                            <p class="lead">
                                <span class="mr-1">
                                    <h2>@item.price $</h2>
                                </span>

                            </p>
                            <h4 class="font-weight-bold">Name</h4>
                            <p>
                                @item.prd_name
                            </p>

                            <h4 class="font-weight-bold">Description</h4>
                            <p>
                                @item.prd_desc
                            </p>

                            <form class="d-flex justify-content-left">
                                <!-- Default input -->
                                <input type="text"  aria-label="Search" class="form-control" style="width: 100px" id="txtamount">
                                <button class="btn btn-primary btn-md my-0 p" type="button" id="btnaddtocart">
                                    Add to cart
                                    <i class="fas fa-shopping-cart ml-1"></i>
                                </button>

                            </form>

                        </div>


                    </div>

                </div>
            }


            <hr>


            <div class="row d-flex justify-content-center wow fadeIn">


                <div class="col-md-6 text-center">

                    <h4 class="my-4 h4">Related Products</h4>

                    <p>

                    </p>

                </div>


            </div>
            
            <div class="row wow fadeIn">
                @foreach (var item in ViewBag.HoldingItems)
                {
                    <div class="col-lg-4 col-md-12 mb-4">

                        <img src="~/App_File/Images/@item.prd_img" class="img-fluid" alt="">


                    </div>

                }

                <!--Grid column-->


            </div>
            <!--Grid row-->

        </div>
    </main>

@Html.Partial("_footer")

    <script type="text/javascript" src="~/Content/mdb/jquery-3.3.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="~/Content/mdb/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="~/Content/mdb/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="~/Content/mdb/mdb.min.js"></script>
    <!-- Initializations -->
    <script type="text/javascript">
        // Animations initialization
        new WOW().init();

    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {

          var selected_id = @Session["itemid"];
          var amount = $('#txtamount').val();
          var id = { "id": selected_id }
          $("#btnaddtocart").click(function () {
              
              var amount = $('#txtamount').val();
              var id = { "id": selected_id, "amount": amount }

              if (amount == null) {
                  alert("You must enter the amount");
              }

              else
              {
                  $.ajax({
                url:'@Url.Action("AddtoCart", "UserActions","User")',
                type: "POST",
                data: JSON.stringify(id),
                dataType: "json",
                contentType: "application/json",
                success: function (response) {
                    alert(response);
                },
                error: function (e) {
                    alert("an error has occured", e);
                }

                  });

              }

         

          });





        });
    </script>

</body>

</html>


